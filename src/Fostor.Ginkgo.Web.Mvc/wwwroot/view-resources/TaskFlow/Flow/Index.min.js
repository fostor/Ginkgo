(function(){$(function(){function n(){var n=$("form[name=SearchForm]"),i=n.serializeFormToObject();t.search(i).done(function(n){r(n)})}function r(n){i=$("#table_100").DataTable({data:n,destroy:!0,searching:!0,dom:"Bftir",language:$.getDataTableLang(),buttons:$.getDataTableButtons(),deferRender:!0,scrollY:$(window).height()-350,scrollX:!0,scrollCollapse:!0,scroller:!0,columns:[{data:"taskCode",width:"80px"},{data:"taskName",width:"80px"},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n){var t='<div style="text-align:center;" >';return t+='   <a href="'+abp.appPath+"TaskFlow/Flow/EditFlow?id="+n+'" class="waves-effect waves-block edit-flow" data-flow-id="'+n+'" ><i class="tiny material-icons">reorder<\/i><\/a>',t+"<\/div>"}},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n,t,i){var r='<div style="text-align:center;" >';return r+='   <a href="#" class="waves-effect waves-block delete-flow" data-flow-id="'+n+'" data-code="'+i.taskCode+'" ><i class="tiny material-icons">delete<\/i><\/a>',r+"<\/div>"}},{data:"description",width:"100px"},{data:"useConditionControl",width:"100px",render:function(n){var t="";return n&&(t="Y"),t}},{data:"canAppendPhase",width:"100px",render:function(n){var t="";return n&&(t="Y"),t}},{data:"revocable",width:"80px",render:function(n){var t="";return n&&(t="Y"),t}},{data:"keyInfoTemplate",width:"150px"},{data:"formUriTemplate",width:"150px"},{data:"isDefaultForAllUser",width:"150px",render:function(n){var t="";return n&&(t="Y"),t}},{data:"finalServiceTemplate",width:"150px"},{data:"startServiceTemplate",width:"150px"},{data:"lastModifier",width:"80px"},{data:"lastModificationTime",width:"80px"},{data:"creator",width:"80px"},{data:"creationTime"}],initComplete:function(){u();$.setTableSelectedRowsCss("table_100")}})}function u(){$(".delete-flow").click(function(i){i.preventDefault();var r=$(this).attr("data-flow-id"),u=$(this).attr("data-code");abp.message.confirm(abp.utils.formatString(abp.localization.localize("DeleteTaskTemplate{0}?","Ginkgo"),u),function(i){i&&t.delete({id:r}).done(function(){n()})})})}var t=abp.services.app.taskTemplate,i;$("#btnSearch").click(function(t){t.preventDefault();n()});$(".add-flow").click(function(n){n.preventDefault();location.href=abp.appPath+"TaskFlow/Flow/AddFlow"});i=null;n()})})();