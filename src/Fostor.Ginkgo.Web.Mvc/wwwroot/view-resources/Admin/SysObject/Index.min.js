(function(){$(function(){function n(){t.getAll({maxResultCount:1e4}).done(function(n){r(n.items)})}function r(n){i=$("#table_100").DataTable({data:n,destroy:!0,searching:!0,dom:"Bftir",language:$.getDataTableLang(),buttons:$.getDataTableButtons(),deferRender:!0,scrollY:$(window).height()-310,scrollX:!0,scrollCollapse:!0,scroller:!0,columnDefs:[{targets:"_all",width:"100px"}],columns:[{data:"parentKey"},{data:"objectKey",width:"150px"},{data:"displayName"},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n){var t='<div style="text-align:center;" >';return t+='   <a href="#" class="waves-effect waves-block edit-object" data-id="'+n+'"  data-toggle="modal" data-target="#SysObjectEditModal"><i class="tiny material-icons">edit<\/i><\/a>',t+"<\/div>"}},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n,t,i){var r='<div style="text-align:center;" >';return r+='   <a href="#" class="waves-effect waves-block delete-object" data-id="'+n+'"   data-code="'+i.objectKey+'"><i class="tiny material-icons">delete_sweep<\/i><\/a>',r+"<\/div>"}},{data:"icon"},{data:"uri",width:"130px"},{data:"menuLevel",width:"80px"},{data:"sortCode",width:"80px"},{data:"isMenuItem",width:"80px",render:function(n){return $.getColumnCheck(n)}},{data:"isEnable",width:"80px",render:function(n){return $.getColumnCheck(n)}},{data:"lastModificationTime",render:function(n){return $.getDateString(n,16)}},{data:"creationTime",render:function(n){return $.getDateString(n,16)}}],initComplete:function(){$.setTableSelectedRowsCss("table_100");$.bindTableColumnSearchEvent("table_100");$.resetTableColumnSearchInput("table_100");$.fixDataTableHeight("table_100",$(window).height()-310)},drawCallback:function(){u();f()}})}function u(){$(".edit-object").off("click").on("click",function(n){var t=$(this).attr("data-id");n.preventDefault();$.ajax({url:abp.appPath+"Admin/SysObject/Edit?id="+t,type:"POST",contentType:"application/html",success:function(n){$("#SysObjectEditModal div.modal-content").html(n)},error:function(){}})})}function f(){$(".delete-object").off("click").on("click",function(){var i=$(this).attr("data-id"),r=$(this).attr("data-code");abp.message.confirm($.deleteConfirm(r),function(r){r&&t.delete({id:i}).done(function(){n()})})})}var t=abp.services.app.sysObject,i=null;n();$.setTableColumnSearchInput("table_100");$(".add-object").click(function(n){n.preventDefault();$.ajax({url:abp.appPath+"Admin/SysObject/Add",type:"POST",contentType:"application/html",success:function(n){$("#SysObjectCreateModal div.modal-content").html(n)},error:function(){}})});$("#SysObjectEditModal").on("hide.bs.modal",function(){var t=$(this).find(".save-button").hasClass("save-clicked");t&&n()});$("#SysObjectCreateModal").on("hide.bs.modal",function(){var t=$(this).find(".save-button").hasClass("save-clicked");t&&n()})})})();