(function(){$(function(){function t(){r.getAll({maxResultCount:1e5}).done(function(n){f(n.items)})}function f(n){u=$("#table_100").DataTable({data:n,destroy:!0,searching:!0,dom:"Bftir",language:$.getDataTableLang(),buttons:$.getDataTableButtons(),deferRender:!0,scrollY:$(window).height()-300,scrollX:!0,scrollCollapse:!0,scroller:!0,columns:[{data:"numberCode",width:"120px"},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n){var t='<div style="text-align:center;" >';return t+='   <a href="#" class="waves-effect waves-block edit-seqnumber" data-seqnumber-id="'+n+'"  data-toggle="modal" data-target="#SequenceEditModal"><i class="tiny material-icons">edit<\/i><\/a>',t+"<\/div>"}},{orderable:!1,bSortable:!1,data:"id",width:"35px",render:function(n,t,i){var r='<div style="text-align:center;" >';return r+='   <a href="#" class="waves-effect waves-block delete-seqnumber" data-seqnumber-id="'+n+'"   data-seqnumber-name="'+i.numberCode+'"><i class="tiny material-icons">delete_sweep<\/i><\/a>',r+"<\/div>"}},{data:"dateStringSpec",width:"100px"},{data:"prefix",width:"100px"},{data:"infix",width:"100px"},{data:"suffix",width:"100px"},{data:"seqLength",width:"100px"},{data:"sequence",width:"100px"},{data:"latestNumber"}],initComplete:function(){e();o();$.setTableSelectedRowsCss("table_100");$.fixDataTableHeight("table_100",$(window).height()-300)}})}function e(){$(".edit-seqnumber").click(function(n){var t=$(this).attr("data-seqnumber-id");n.preventDefault();$.ajax({url:abp.appPath+"Admin/Sequence/Edit?id="+t,type:"POST",contentType:"application/html",success:function(n){$("#SequenceEditModal div.modal-content").html(n)},error:function(){}})})}function o(){$(".delete-seqnumber").click(function(){var n=$(this).attr("data-seqnumber-id"),i=$(this).attr("data-seqnumber-name");abp.message.confirm($.deleteConfirm(i),function(i){i&&r.delete({id:n}).done(function(){t()})})})}var r=abp.services.app.sequenceNumber,u=null,n,i;t();$("#SequenceEditModal").on("hide.bs.modal",function(){t()});$("#RefreshButton").click(function(){t()});n=$("#SequenceCreateModal");i=n.find("form");i.validate({});n.find('button[type="submit"]').click(function(u){if(u.preventDefault(),i.valid()){var f=i.serializeFormToObject();abp.ui.setBusy(n);r.create(f).done(function(){n.modal("hide");t()}).always(function(){abp.ui.clearBusy(n)})}});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})})();