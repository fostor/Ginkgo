(function(){$(function(){function n(){var n=r.serializeFormToObject();t.search(n).done(function(n){u(n)})}function u(n){i=$("#table_100").DataTable({data:n,destroy:!0,searching:!0,dom:'<"toolbar-add">Bftir',language:$.getDataTableLang(),buttons:$.getDataTableButtons(),deferRender:!0,scrollY:$(window).height()-300,scrollX:!0,scrollCollapse:!0,scroller:!0,columns:[{data:"languageName",width:"60px"},{data:"key",width:"100px"},{data:"value",width:"60px"},{data:"id",width:"35px",render:function(n){var t='<div style="text-align:center;" >';return t+='   <a href="#" class="waves-effect waves-block edit-language-text" data-id="'+n+'"  data-toggle="modal" data-target="#LanguageTextEditModal"><i class="tiny material-icons">edit<\/i><\/a>',t+"<\/div>"}},{data:"id",width:"40px",render:function(n,t,i){var r='<div style="text-align:center;" >';return r+='   <a href="#" class="waves-effect waves-block delete-language-text" data-id="'+n+'" data-code="'+i.value+'" ><i class="tiny material-icons">delete<\/i><\/a>',r+"<\/div>"}},{data:"lastModificationTime",width:"80px",render:function(n){return n?n.substr(0,16).replace(/T/," "):null}},{data:"creationTime",render:function(n){return n?n.substr(0,16).replace(/T/," "):null}}],initComplete:function(){$.setTableSelectedRowsCss("table_100");$.bindTableColumnSearchEvent("table_100");$.resetTableColumnSearchInput("table_100");$.fixDataTableHeight("table_100",$(window).height()-300);f();e();o()},drawCallback:function(){s();h()}})}function f(){var n="";n+='<button type="button" class="btn btn-default pull-left add-language-text"';n+=' data-toggle="modal" data-target="#LanguageTextCreateModal"';n+=' ><span  style="color:#009688;"><i class="material-icons">add_box<\/i><\/span><span style="color:#00BCD4;">'+abp.localization.localize("Create","Ginkgo")+"<\/span><\/button>";n+='<button type="button" class="btn btn-default pull-left batch-add"';n+=' data-toggle="modal" data-target="#LanguageTextBatchCreateModal"';n+=' ><span  style="color:#009688;"><i class="material-icons">create_new_folder<\/i><\/span><span style="color:#00BCD4;">'+abp.localization.localize("BatchCreate","Ginkgo")+"<\/span><\/button>";$("div.toolbar-add").html(n)}function e(){$(".add-language-text").off("click").on("click",function(n){n.preventDefault();$.ajax({url:abp.appPath+"Admin/Localization/Add",type:"POST",contentType:"application/html",success:function(n){$("#LanguageTextCreateModal div.modal-content").html(n)},error:function(){}})})}function o(){$(".batch-add").off("click").on("click",function(n){n.preventDefault();$.ajax({url:abp.appPath+"Admin/Localization/BatchAdd",type:"POST",contentType:"application/html",success:function(n){$("#LanguageTextBatchCreateModal div.modal-content").html(n)},error:function(){}})})}function s(){$(".edit-language-text").off("click").on("click",function(n){var t=$(this).attr("data-id");n.preventDefault();$.ajax({url:abp.appPath+"Admin/Localization/Edit?id="+t,type:"POST",contentType:"application/html",success:function(n){$("#LanguageTextEditModal div.modal-content").html(n)},error:function(){}})})}function h(){$(".delete-language-text").off("click").on("click",function(i){i.preventDefault();var r=$(this).attr("data-id"),u=$(this).attr("data-code");abp.message.confirm($.deleteConfirm(u),function(i){i&&t.delete(r).done(function(){n()})})})}var t=abp.services.app.languageText,r=$("form[name=SearchForm]"),i;$("#LanguageTextCreateModal").on("hide.bs.modal",function(){var t=$(this).find(".save-button").hasClass("save-clicked");t&&n()});$("#LanguageTextEditModal").on("hide.bs.modal",function(){var t=$(this).find(".save-button").hasClass("save-clicked");t&&n()});$("#LanguageTextBatchCreateModal").on("hide.bs.modal",function(){var t=$(this).find(".save-button").hasClass("save-clicked");t&&n()});$(".copy-language-text").click(function(n){n.preventDefault();$.ajax({url:abp.appPath+"Admin/Localization/Copy",type:"POST",contentType:"application/html",success:function(n){$("#LanguageTextCopyModal div.modal-content").html(n)},error:function(){}})});$("#btnSearch").click(function(t){t.preventDefault();n()});i=null;n();$.setTableColumnSearchInput("table_100")})})(jQuery);