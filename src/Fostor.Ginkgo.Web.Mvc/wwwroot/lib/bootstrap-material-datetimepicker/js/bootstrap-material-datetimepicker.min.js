(function(n,t){function u(i,r){this.currentView=0;this.minDate;this.maxDate;this._attachedEvents=[];this.element=i;this.$element=n(i);this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:"en",weekStart:0,shortTime:!1,clearButton:!1,nowButton:!1,cancelText:"Cancel",okText:"OK",clearText:"Clear",nowText:"Now",switchOnClick:!1};this.params=n.fn.extend(this.params,r);this.name="dtp_"+this.setName();this.$element.attr("data-dtp",this.name);t.locale(this.params.lang);this.init()}var r="bootstrapMaterialDatePicker",i="plugin_"+r;t.locale("en");n.fn[r]=function(t,r){return this.each(function(){n.data(this,i)?(typeof n.data(this,i)[t]=="function"&&n.data(this,i)[t](r),t==="destroy"&&delete n.data(this,i)):n.data(this,i,new u(this,t))}),this};u.prototype={init:function(){this.initDays();this.initDates();this.initTemplate();this.initButtons();this._attachEvent(n(window),"resize",this._centerBox.bind(this));this._attachEvent(this.$dtpElement.find(".dtp-content"),"click",this._onElementClick.bind(this));this._attachEvent(this.$dtpElement,"click",this._onBackgroundClick.bind(this));this._attachEvent(this.$dtpElement.find(".dtp-close > a"),"click",this._onCloseClick.bind(this));this._attachEvent(this.$element,"focus",this._onFocus.bind(this))},initDays:function(){this.days=[];for(var n=this.params.weekStart;this.days.length<7;n++)n>6&&(n=0),this.days.push(n.toString())},initDates:function(){var n;this.$element.val().length>0?this.currentDate=typeof this.params.format!="undefined"&&this.params.format!==null?t(this.$element.val(),this.params.format).locale(this.params.lang):t(this.$element.val()).locale(this.params.lang):typeof this.$element.attr("value")!="undefined"&&this.$element.attr("value")!==null&&this.$element.attr("value")!==""?typeof this.$element.attr("value")=="string"&&(this.currentDate=typeof this.params.format!="undefined"&&this.params.format!==null?t(this.$element.attr("value"),this.params.format).locale(this.params.lang):t(this.$element.attr("value")).locale(this.params.lang)):typeof this.params.currentDate!="undefined"&&this.params.currentDate!==null?(typeof this.params.currentDate=="string"?this.currentDate=typeof this.params.format!="undefined"&&this.params.format!==null?t(this.params.currentDate,this.params.format).locale(this.params.lang):t(this.params.currentDate).locale(this.params.lang):typeof this.params.currentDate.isValid=="undefined"||typeof this.params.currentDate.isValid!="function"?(n=this.params.currentDate.getTime(),this.currentDate=t(n,"x").locale(this.params.lang)):this.currentDate=this.params.currentDate,this.$element.val(this.currentDate.format(this.params.format))):this.currentDate=t();typeof this.params.minDate!="undefined"&&this.params.minDate!==null?typeof this.params.minDate=="string"?this.minDate=typeof this.params.format!="undefined"&&this.params.format!==null?t(this.params.minDate,this.params.format).locale(this.params.lang):t(this.params.minDate).locale(this.params.lang):typeof this.params.minDate.isValid=="undefined"||typeof this.params.minDate.isValid!="function"?(n=this.params.minDate.getTime(),this.minDate=t(n,"x").locale(this.params.lang)):this.minDate=this.params.minDate:this.params.minDate===null&&(this.minDate=null);typeof this.params.maxDate!="undefined"&&this.params.maxDate!==null?typeof this.params.maxDate=="string"?this.maxDate=typeof this.params.format!="undefined"&&this.params.format!==null?t(this.params.maxDate,this.params.format).locale(this.params.lang):t(this.params.maxDate).locale(this.params.lang):typeof this.params.maxDate.isValid=="undefined"||typeof this.params.maxDate.isValid!="function"?(n=this.params.maxDate.getTime(),this.maxDate=t(n,"x").locale(this.params.lang)):this.maxDate=this.params.maxDate:this.params.maxDate===null&&(this.maxDate=null);this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate));this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate))},initTemplate:function(){this.template='<div class="dtp hidden" id="'+this.name+'"><div class="dtp-content"><div class="dtp-date-view"><header class="dtp-header"><div class="dtp-actual-day">Lundi<\/div><div class="dtp-close"><a href="javascript:void(0);"><i class="material-icons">clear<\/i><\/<\/div><\/header><div class="dtp-date hidden"><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-month-before"><i class="material-icons">chevron_left<\/i><\/a><\/div><div class="dtp-actual-month p80">MAR<\/div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-month-after"><i class="material-icons">chevron_right<\/i><\/a><\/div><div class="clearfix"><\/div><\/div><div class="dtp-actual-num">13<\/div><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-year-before"><i class="material-icons">chevron_left<\/i><\/a><\/div><div class="dtp-actual-year p80">2014<\/div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-year-after"><i class="material-icons">chevron_right<\/i><\/a><\/div><div class="clearfix"><\/div><\/div><\/div><div class="dtp-time hidden"><div class="dtp-actual-maxtime">23:55<\/div><\/div><div class="dtp-picker"><div class="dtp-picker-calendar"><\/div><div class="dtp-picker-datetime hidden"><div class="dtp-actual-meridien"><div class="left p20"><a class="dtp-meridien-am" href="javascript:void(0);">AM<\/a><\/div><div class="dtp-actual-time p60"><\/div><div class="right p20"><a class="dtp-meridien-pm" href="javascript:void(0);">PM<\/a><\/div><div class="clearfix"><\/div><\/div><div id="dtp-svg-clock"><\/div><\/div><\/div><\/div><div class="dtp-buttons"><button class="dtp-btn-now btn btn-flat hidden">'+this.params.nowText+'<\/button><button class="dtp-btn-clear btn btn-flat hidden">'+this.params.clearText+'<\/button><button class="dtp-btn-cancel btn btn-flat">'+this.params.cancelText+'<\/button><button class="dtp-btn-ok btn btn-flat">'+this.params.okText+'<\/button><div class="clearfix"><\/div><\/div><\/div><\/div>';n("body").find("#"+this.name).length<=0&&(n("body").append(this.template),this&&(this.dtpElement=n("body").find("#"+this.name)),this.$dtpElement=n(this.dtpElement))},initButtons:function(){this._attachEvent(this.$dtpElement.find(".dtp-btn-cancel"),"click",this._onCancelClick.bind(this));this._attachEvent(this.$dtpElement.find(".dtp-btn-ok"),"click",this._onOKClick.bind(this));this._attachEvent(this.$dtpElement.find("a.dtp-select-month-before"),"click",this._onMonthBeforeClick.bind(this));this._attachEvent(this.$dtpElement.find("a.dtp-select-month-after"),"click",this._onMonthAfterClick.bind(this));this._attachEvent(this.$dtpElement.find("a.dtp-select-year-before"),"click",this._onYearBeforeClick.bind(this));this._attachEvent(this.$dtpElement.find("a.dtp-select-year-after"),"click",this._onYearAfterClick.bind(this));this.params.clearButton===!0&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-clear"),"click",this._onClearClick.bind(this)),this.$dtpElement.find(".dtp-btn-clear").removeClass("hidden"));this.params.nowButton===!0&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-now"),"click",this._onNowClick.bind(this)),this.$dtpElement.find(".dtp-btn-now").removeClass("hidden"));this.params.nowButton===!0&&this.params.clearButton===!0?this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-xs"):(this.params.nowButton===!0||this.params.clearButton===!0)&&this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-sm")},initMeridienButtons:function(){this.$dtpElement.find("a.dtp-meridien-am").off("click").on("click",this._onSelectAM.bind(this));this.$dtpElement.find("a.dtp-meridien-pm").off("click").on("click",this._onSelectPM.bind(this))},initDate:function(){var n,t,i;if(this.currentView=0,this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"),n=typeof this.currentDate!="undefined"&&this.currentDate!==null?this.currentDate:null,t=this.generateCalendar(this.currentDate),typeof t.week!="undefined"&&typeof t.days!="undefined"){i=this.constructHTMLCalendar(n,t);this.$dtpElement.find("a.dtp-select-day").off("click");this.$dtpElement.find(".dtp-picker-calendar").html(i);this.$dtpElement.find("a.dtp-select-day").on("click",this._onSelectDate.bind(this));this.toggleButtons(n)}this._centerBox();this.showDate(n)},initHours:function(){var r,u,n;for(this.currentView=1,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click(),r=this.params.shortTime?"h":"H",this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),u=this.createSVGClock(!0),n=0;n<12;n++){var f=-(162*Math.sin(-Math.PI*2*(n/12))),e=-(162*Math.cos(-Math.PI*2*(n/12))),o=this.currentDate.format(r)==n?"#007d72":"transparent",s=this.currentDate.format(r)==n?"#fff":"#000",i=this.createSVGElement("circle",{id:"h-"+n,"class":"dtp-select-hour",style:"cursor:pointer",r:"30",cx:f,cy:e,fill:o,"data-hour":n}),t=this.createSVGElement("text",{id:"th-"+n,"class":"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:f,y:e+7,fill:s,"data-hour":n});t.textContent=n===0?this.params.shortTime?12:n:n;this.toggleTime(n,!0)?(i.addEventListener("click",this._onSelectHour.bind(this)),t.addEventListener("click",this._onSelectHour.bind(this))):(i.className+=" disabled",t.className+=" disabled",t.setAttribute("fill","#bdbdbd"));u.appendChild(i);u.appendChild(t)}if(!this.params.shortTime){for(n=0;n<12;n++){var f=-(110*Math.sin(-Math.PI*2*(n/12))),e=-(110*Math.cos(-Math.PI*2*(n/12))),o=this.currentDate.format(r)==n+12?"#007d72":"transparent",s=this.currentDate.format(r)==n+12?"#fff":"#000",i=this.createSVGElement("circle",{id:"h-"+(n+12),"class":"dtp-select-hour",style:"cursor:pointer",r:"30",cx:f,cy:e,fill:o,"data-hour":n+12}),t=this.createSVGElement("text",{id:"th-"+(n+12),"class":"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"22",x:f,y:e+7,fill:s,"data-hour":n+12});t.textContent=n+12;this.toggleTime(n+12,!0)?(i.addEventListener("click",this._onSelectHour.bind(this)),t.addEventListener("click",this._onSelectHour.bind(this))):(i.className+=" disabled",t.className+=" disabled",t.setAttribute("fill","#bdbdbd"));u.appendChild(i);u.appendChild(t)}this.$dtpElement.find("a.dtp-meridien-am").addClass("hidden");this.$dtpElement.find("a.dtp-meridien-pm").addClass("hidden")}this._centerBox()},initMinutes:function(){var i,n;for(this.currentView=2,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click(),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"),i=this.createSVGClock(!1),n=0;n<60;n++){var u=n%5==0?162:158,s=n%5==0?30:20,f=-(u*Math.sin(-Math.PI*2*(n/60))),e=-(u*Math.cos(-Math.PI*2*(n/60))),o=this.currentDate.format("m")==n?"#007d72":"transparent",r=this.createSVGElement("circle",{id:"m-"+n,"class":"dtp-select-minute",style:"cursor:pointer",r:s,cx:f,cy:e,fill:o,"data-minute":n});this.toggleTime(n,!1)?r.addEventListener("click",this._onSelectMinute.bind(this)):r.className+=" disabled";i.appendChild(r)}for(n=0;n<60;n++)if(n%5==0){var f=-(162*Math.sin(-Math.PI*2*(n/60))),e=-(162*Math.cos(-Math.PI*2*(n/60))),o=this.currentDate.format("m")==n?"#fff":"#000",t=this.createSVGElement("text",{id:"tm-"+n,"class":"dtp-select-minute-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:f,y:e+7,fill:o,"data-minute":n});t.textContent=n;this.toggleTime(n,!1)?t.addEventListener("click",this._onSelectMinute.bind(this)):(t.className+=" disabled",t.setAttribute("fill","#bdbdbd"));i.appendChild(t)}this._centerBox()},animateHands:function(){var t=this.currentDate.hour(),i=this.currentDate.minute(),r=this.$dtpElement.find(".hour-hand"),n;r[0].setAttribute("transform","rotate("+30*t+")");n=this.$dtpElement.find(".minute-hand");n[0].setAttribute("transform","rotate("+6*i+")")},createSVGClock:function(n){var u=this.params.shortTime?-120:-90,f=this.createSVGElement("svg",{"class":"svg-clock",viewBox:"0,0,400,400"}),t=this.createSVGElement("g",{transform:"translate(200,200) "}),e=this.createSVGElement("circle",{r:"192",fill:"#eee",stroke:"#bdbdbd","stroke-width":2}),o=this.createSVGElement("circle",{r:"15",fill:"#757575"}),i,r;return t.appendChild(e),n?(i=this.createSVGElement("line",{"class":"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#bdbdbd","stroke-width":2}),r=this.createSVGElement("line",{"class":"hour-hand",x1:0,y1:0,x2:0,y2:u,stroke:"#007d72","stroke-width":8}),t.appendChild(i),t.appendChild(r)):(i=this.createSVGElement("line",{"class":"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#007d72","stroke-width":2}),r=this.createSVGElement("line",{"class":"hour-hand",x1:0,y1:0,x2:0,y2:u,stroke:"#bdbdbd","stroke-width":8}),t.appendChild(r),t.appendChild(i)),t.appendChild(o),f.appendChild(t),this.$dtpElement.find("#dtp-svg-clock").empty(),this.$dtpElement.find("#dtp-svg-clock")[0].appendChild(f),this.animateHands(),t},createSVGElement:function(n,t){var i=document.createElementNS("http://www.w3.org/2000/svg",n);for(var r in t)i.setAttribute(r,t[r]);return i},isAfterMinDate:function(n,i,r){var e=!0,u,f;return typeof this.minDate!="undefined"&&this.minDate!==null&&(u=t(this.minDate),f=t(n),i||r||(u.hour(0),u.minute(0),f.hour(0),f.minute(0)),u.second(0),f.second(0),u.millisecond(0),f.millisecond(0),r?e=parseInt(f.format("X"))>=parseInt(u.format("X")):(f.minute(0),u.minute(0),e=parseInt(f.format("X"))>=parseInt(u.format("X")))),e},isBeforeMaxDate:function(n,i,r){var e=!0,u,f;return typeof this.maxDate!="undefined"&&this.maxDate!==null&&(u=t(this.maxDate),f=t(n),i||r||(u.hour(0),u.minute(0),f.hour(0),f.minute(0)),u.second(0),f.second(0),u.millisecond(0),f.millisecond(0),r?e=parseInt(f.format("X"))<=parseInt(u.format("X")):(f.minute(0),u.minute(0),e=parseInt(f.format("X"))<=parseInt(u.format("X")))),e},rotateElement:function(t,i){n(t).css({WebkitTransform:"rotate("+i+"deg)","-moz-transform":"rotate("+i+"deg)"})},showDate:function(n){n&&(this.$dtpElement.find(".dtp-actual-day").html(n.locale(this.params.lang).format("dddd")),this.$dtpElement.find(".dtp-actual-month").html(n.locale(this.params.lang).format("MMM").toUpperCase()),this.$dtpElement.find(".dtp-actual-num").html(n.locale(this.params.lang).format("DD")),this.$dtpElement.find(".dtp-actual-year").html(n.locale(this.params.lang).format("YYYY")))},showTime:function(n){if(n){var t=n.minute(),i=(this.params.shortTime?n.format("hh"):n.format("HH"))+":"+(t.toString().length==2?t:"0"+t)+(this.params.shortTime?" "+n.format("A"):"");this.params.date?this.$dtpElement.find(".dtp-actual-time").html(i):(this.params.shortTime?this.$dtpElement.find(".dtp-actual-day").html(n.format("A")):this.$dtpElement.find(".dtp-actual-day").html("&nbsp;"),this.$dtpElement.find(".dtp-actual-maxtime").html(i))}},selectDate:function(n){n&&(this.currentDate.date(n),this.showDate(this.currentDate),this.$element.trigger("dateSelected",this.currentDate))},generateCalendar:function(n){var i={},r,f,e;if(n!==null){var u=t(n).locale(this.params.lang).startOf("month"),o=t(n).locale(this.params.lang).endOf("month"),s=u.format("d");for(i.week=this.days,i.days=[],r=u.date();r<=o.date();r++){if(r===u.date()&&(f=i.week.indexOf(s.toString()),f>0))for(e=0;e<f;e++)i.days.push(0);i.days.push(t(u).locale(this.params.lang).date(r))}}return i},constructHTMLCalendar:function(n,i){var u="",r;for(u+='<div class="dtp-picker-month">'+n.locale(this.params.lang).format("MMMM YYYY")+"<\/div>",u+='<table class="table dtp-picker-days"><thead>',r=0;r<i.week.length;r++)u+="<th>"+t(parseInt(i.week[r]),"d").locale(this.params.lang).format("dd").substring(0,1)+"<\/th>";for(u+="<\/thead>",u+="<tbody><tr>",r=0;r<i.days.length;r++)r%7==0&&(u+="<\/tr><tr>"),u+='<td data-date="'+t(i.days[r]).locale(this.params.lang).format("D")+'">',i.days[r]!=0&&(u+=this.isBeforeMaxDate(t(i.days[r]),!1,!1)===!1||this.isAfterMinDate(t(i.days[r]),!1,!1)===!1?'<span class="dtp-select-day">'+t(i.days[r]).locale(this.params.lang).format("DD")+"<\/span>":t(i.days[r]).locale(this.params.lang).format("DD")===t(this.currentDate).locale(this.params.lang).format("DD")?'<a href="javascript:void(0);" class="dtp-select-day selected">'+t(i.days[r]).locale(this.params.lang).format("DD")+"<\/a>":'<a href="javascript:void(0);" class="dtp-select-day">'+t(i.days[r]).locale(this.params.lang).format("DD")+"<\/a>",u+="<\/td>");return u+"<\/tr><\/tbody><\/table>"},setName:function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},isPM:function(){return this.$dtpElement.find("a.dtp-meridien-pm").hasClass("selected")},setElementValue:function(){this.$element.trigger("beforeChange",this.currentDate);typeof n.material!="undefined"&&this.$element.removeClass("empty");this.$element.val(t(this.currentDate).locale(this.params.lang).format(this.params.format));this.$element.trigger("change",this.currentDate)},toggleButtons:function(n){var i,r,u,f;n&&n.isValid()&&(i=t(n).locale(this.params.lang).startOf("month"),r=t(n).locale(this.params.lang).endOf("month"),this.isAfterMinDate(i,!1,!1)?this.$dtpElement.find("a.dtp-select-month-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-before").addClass("invisible"),this.isBeforeMaxDate(r,!1,!1)?this.$dtpElement.find("a.dtp-select-month-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-after").addClass("invisible"),u=t(n).locale(this.params.lang).startOf("year"),f=t(n).locale(this.params.lang).endOf("year"),this.isAfterMinDate(u,!1,!1)?this.$dtpElement.find("a.dtp-select-year-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-before").addClass("invisible"),this.isBeforeMaxDate(f,!1,!1)?this.$dtpElement.find("a.dtp-select-year-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-after").addClass("invisible"))},toggleTime:function(n,i){var u=!1,r;return i?(r=t(this.currentDate),r.hour(this.convertHours(n)).minute(0).second(0),u=!(this.isAfterMinDate(r,!0,!1)===!1||this.isBeforeMaxDate(r,!0,!1)===!1)):(r=t(this.currentDate),r.minute(n).second(0),u=!(this.isAfterMinDate(r,!0,!0)===!1||this.isBeforeMaxDate(r,!0,!0)===!1)),u},_attachEvent:function(n,t,i){n.on(t,null,null,i);this._attachedEvents.push([n,t,i])},_detachEvents:function(){for(var n=this._attachedEvents.length-1;n>=0;n--)this._attachedEvents[n][0].off(this._attachedEvents[n][1],this._attachedEvents[n][2]),this._attachedEvents.splice(n,1)},_onFocus:function(){this.currentView=0;this.$element.blur();this.initDates();this.show();this.params.date?(this.$dtpElement.find(".dtp-date").removeClass("hidden"),this.initDate()):this.params.time&&(this.$dtpElement.find(".dtp-time").removeClass("hidden"),this.initHours())},_onBackgroundClick:function(n){n.stopPropagation();this.hide()},_onElementClick:function(n){n.stopPropagation()},_onKeydown:function(n){n.which===27&&this.hide()},_onCloseClick:function(){this.hide()},_onClearClick:function(){this.currentDate=null;this.$element.trigger("beforeChange",this.currentDate);this.hide();typeof n.material!="undefined"&&this.$element.addClass("empty");this.$element.val("");this.$element.trigger("change",this.currentDate)},_onNowClick:function(){if(this.currentDate=t(),this.params.date===!0&&(this.showDate(this.currentDate),this.currentView===0&&this.initDate()),this.params.time===!0){this.showTime(this.currentDate);switch(this.currentView){case 1:this.initHours();break;case 2:this.initMinutes()}this.animateHands()}},_onOKClick:function(){switch(this.currentView){case 0:this.params.time===!0?this.initHours():(this.setElementValue(),this.hide());break;case 1:this.initMinutes();break;case 2:this.setElementValue();this.hide()}},_onCancelClick:function(){if(this.params.time)switch(this.currentView){case 0:this.hide();break;case 1:this.params.date?this.initDate():this.hide();break;case 2:this.initHours()}else this.hide()},_onMonthBeforeClick:function(){this.currentDate.subtract(1,"months");this.initDate(this.currentDate)},_onMonthAfterClick:function(){this.currentDate.add(1,"months");this.initDate(this.currentDate)},_onYearBeforeClick:function(){this.currentDate.subtract(1,"years");this.initDate(this.currentDate)},_onYearAfterClick:function(){this.currentDate.add(1,"years");this.initDate(this.currentDate)},_onSelectDate:function(t){this.$dtpElement.find("a.dtp-select-day").removeClass("selected");n(t.currentTarget).addClass("selected");this.selectDate(n(t.currentTarget).parent().data("date"));this.params.switchOnClick===!0&&this.params.time===!0&&setTimeout(this.initHours.bind(this),200);this.params.switchOnClick===!0&&this.params.time===!1&&setTimeout(this._onOKClick.bind(this),200)},_onSelectHour:function(t){var f,i;if(!n(t.target).hasClass("disabled")){var u=n(t.target).data("hour"),r=n(t.target).parent(),e=r.find(".dtp-select-hour");for(i=0;i<e.length;i++)n(e[i]).attr("fill","transparent");for(f=r.find(".dtp-select-hour-text"),i=0;i<f.length;i++)n(f[i]).attr("fill","#000");n(r.find("#h-"+u)).attr("fill","#007d72");n(r.find("#th-"+u)).attr("fill","#fff");this.currentDate.hour(parseInt(u));this.params.shortTime===!0&&this.isPM()&&this.currentDate.add(12,"hours");this.showTime(this.currentDate);this.animateHands();this.params.switchOnClick===!0&&setTimeout(this.initMinutes.bind(this),200)}},_onSelectMinute:function(t){var f,i;if(!n(t.target).hasClass("disabled")){var u=n(t.target).data("minute"),r=n(t.target).parent(),e=r.find(".dtp-select-minute");for(i=0;i<e.length;i++)n(e[i]).attr("fill","transparent");for(f=r.find(".dtp-select-minute-text"),i=0;i<f.length;i++)n(f[i]).attr("fill","#000");n(r.find("#m-"+u)).attr("fill","#007d72");n(r.find("#tm-"+u)).attr("fill","#fff");this.currentDate.minute(parseInt(u));this.showTime(this.currentDate);this.animateHands();this.params.switchOnClick===!0&&setTimeout(function(){this.setElementValue();this.hide()}.bind(this),200)}},_onSelectAM:function(t){n(".dtp-actual-meridien").find("a").removeClass("selected");n(t.currentTarget).addClass("selected");this.currentDate.hour()>=12&&this.currentDate.subtract(12,"hours")&&this.showTime(this.currentDate);this.toggleTime(this.currentView===1)},_onSelectPM:function(t){n(".dtp-actual-meridien").find("a").removeClass("selected");n(t.currentTarget).addClass("selected");this.currentDate.hour()<12&&this.currentDate.add(12,"hours")&&this.showTime(this.currentDate);this.toggleTime(this.currentView===1)},convertHours:function(n){var t=n;return this.params.shortTime===!0&&n<12&&this.isPM()&&(t+=12),t},setDate:function(n){this.params.currentDate=n;this.initDates()},setMinDate:function(n){this.params.minDate=n;this.initDates()},setMaxDate:function(n){this.params.maxDate=n;this.initDates()},destroy:function(){this._detachEvents();this.$dtpElement.remove()},show:function(){this.$dtpElement.removeClass("hidden");this._attachEvent(n(window),"keydown",this._onKeydown.bind(this));this._centerBox()},hide:function(){n(window).off("keydown",null,null,this._onKeydown.bind(this));this.$dtpElement.addClass("hidden")},_centerBox:function(){var n=(this.$dtpElement.height()-this.$dtpElement.find(".dtp-content").height())/2;this.$dtpElement.find(".dtp-content").css("marginLeft",-(this.$dtpElement.find(".dtp-content").width()/2)+"px");this.$dtpElement.find(".dtp-content").css("top",n+"px")},enableDays:function(){var t=this.params.enableDays;t&&n(".dtp-picker-days tbody tr td").each(function(){n.inArray(n(this).index(),t)>=0||n(this).find("a").css({background:"#e3e3e3",cursor:"no-drop",opacity:"0.5"}).off("click")})}}})(jQuery,moment);